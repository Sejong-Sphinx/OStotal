<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>OStotal</title>
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/dash.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.js"></script>
</head>

<body>
    <div class="header">
        <div class="headWrap">
            <div class="logo"><a href="/index.html"><img src="/img/logo.png" alt="OStotal LOGO"></a></div>
            <div class="nav">
                <ul>
                    <li><a class="smooth-scroll" href="#uploadSec">upload</a></li>
                    <li><a href="/socialgraph.html">library</a></li>
                    <li><a href="#">about</a></li>
                    <li><a href="#">contact</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="body">
        <div class="dashWrap">
            <div class="dashGrid">
                <div class="dashNode">
                    <h3 class="nodeName">OS Information</h3>
                    <div class="nodeContent">
                        <h4>Red Star 3.0</h4>
                        <img class="redstarbg" src="/img/redstarbg.png" alt="OS Background">
                        <a class="cmuBtn" href="/community.html">커뮤니티 보기</a>
                        <div class="osInfo">
                            File Name: redstar_desktop3.0_sign.iso<br>
                            Size: 2,614,645 KB<br><br>
                            Hash:<br>
                            md5 &emsp;&emsp;&nbsp;5f1c506007159f4612d1a099e79e0b1c<br>
                            sha256 &emsp;9a757e16bb47e7183b3aa0c09cb1c553a5aef3d1eeb4c959b25cec7be4788f81<br><br>
                            History:<br>
                            First submission &emsp;2020-05-19<br>
                            Last submission &emsp;2020-05-28
                        </div>
                    </div>
                </div>
                <div class="dashNode">
                    <h3 class="nodeName">Processes List</h3>
                    <textarea id="redpsfile"></textarea>
                    <script>
                        readTextFile("/file/redstarfile/pstree.txt");
                        function readTextFile(file)
                        {
                            var rawFile = new XMLHttpRequest();
                            rawFile.open("GET", file, false);
                            rawFile.onreadystatechange = function ()
                            {
                                if(rawFile.readyState === 4)
                                {
                                    if(rawFile.status === 200 || rawFile.status == 0)
                                    {
                                        var allText = rawFile.responseText;
                                        document.getElementById("redpsfile").innerHTML=allText;
                                    }
                                }
                            }
                            rawFile.send(null);
                        }
                    </script>
                </div>
                <div class="dashNode">
                    <h3 class="nodeName">CPU Usage</h3>
                    <div class="chartSize">
                        <p>( % )</p>
                        <canvas id="myChart"></canvas>
                        <script>
                            var ctx = document.getElementById('myChart');
                            var myChart = new Chart(ctx, {
                                type: 'line',
                                data: {
                                    labels: ['00:00','','', '00:05','','', '00:10','','', '00:15','','', '00:20','','', '00:25'],
                                    datasets: [{
                                        label: '# CPU usage',
                                        data: [30, 80, 100, 97, 100, 85, 95, 90, 40, 25, 30, 25, 15, 12.5, 15, 10],
                                        backgroundColor: [
                                            'rgba(54, 162, 235, 0.2)'
                                        ],
                                        borderColor: [
                                            'rgb(54, 162, 235)'
                                        ],
                                        borderWidth: 1
                                    }]
                                },
                                options: {        
                                    legend: {
                                        display: false
                                    },
                                    scales: {
                                        xAxes: [{
                                            gridLines: {
                                                display:false
                                            },
                                            ticks: {
                                                fontSize : 12,
                                            }
                                        }],
                                        yAxes: [{
                                            gridLines: {
                                                display:false
                                            },
                                            ticks: {
                                                beginAtZero: true,
                                                fontSize : 12,
                                            }
                                        }]
                                    }
                                }
                            });
                        </script>
                    </div>
                </div>
                <div class="dashNode">
                    <h3 class="nodeName">Network List</h3>
                    <textarea id="rednetfile"></textarea>
                    <script>
                        readTextFile("file/redstarfile/netstat.txt");
                        function readTextFile(file)
                        {
                            var rawFile = new XMLHttpRequest();
                            rawFile.open("GET", file, false);
                            rawFile.onreadystatechange = function ()
                            {
                                if(rawFile.readyState === 4)
                                {
                                    if(rawFile.status === 200 || rawFile.status == 0)
                                    {
                                        var allText = rawFile.responseText;
                                        document.getElementById("rednetfile").innerHTML=allText;
                                    }
                                }
                            }
                            rawFile.send(null);
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</body>
</html>